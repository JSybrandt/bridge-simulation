clc; close all; clear all;
load('../simulator/singleBridge.mat');
% the name of the var
% singleBridgeData
% Features : 
% [label, damange, maxDisp, natFreq, cStiffness, modifiedDensity, cMass, speedVehicle, pointLoad, tempAct, relativeHumidity, day]

%standardize data
[singleBridgeData,mu,sig] = zscore(singleBridgeData);
mu = mu';
sig = sig';

numPoints = size(singleBridgeData, 1);

%randomize data
ordering = randperm(numPoints);
singleBridgeData = singleBridgeData(ordering,:);

trainingSetSize = floor(numPoints*0.8);
validationSetSize = numPoints - trainingSetSize;

trainingSet = singleBridgeData(trainingSetSize, :);
validationSet = singleBridgeData(validationSetSize, :);

model = svmtrain(trainingSet(:,1),st, '-s 3 -t 2 -p 0.01 -g 0.0001 -h 0 -q');